# Visit https://github.com/lowlighter/metrics#-documentation for full reference
name: Metrics  # è®¾ç½® GitHub Actions çš„å·¥ä½œæµåç§°

on:
    # å®šæ—¶è§¦å‘å™¨ï¼Œæ¯8å°æ—¶æ›´æ–°ä¸€æ¬¡
    schedule: [{ cron: "0 */8 * * *" }]
    # å…è®¸æ‰‹åŠ¨è§¦å‘å·¥ä½œæµ
    workflow_dispatch:
    # åœ¨æ¯æ¬¡æ¨é€åˆ° master åˆ†æ”¯æ—¶è§¦å‘
    push: { branches: ["master"] }

jobs:
    github-metrics:
        runs-on: ubuntu-latest  # è®¾ç½® GitHub Actions è¿è¡Œçš„ç¯å¢ƒä¸º Ubuntu
        permissions:
            contents: write  # ç»™ä¸æƒé™æ¥å†™å…¥ä»“åº“å†…å®¹

        steps:
            # ä½¿ç”¨ lowlighter/metrics GitHub Action æ¥ç”Ÿæˆ GitHub Metrics
            - uses: lowlighter/metrics@master
              with:
                  token: ${{ secrets.METRICS_TOKEN }}  # ä½¿ç”¨ GitHub secret ä¸­çš„ METRICS_TOKEN ä½œä¸ºè®¤è¯

                  # ğŸ†• ä½¿ç§æœ‰ä»“åº“å‚ä¸ç»Ÿè®¡
                  repositories_visibility: all  # è®¾ç½®ä¸º "all"ï¼Œä»¥ä¾¿åŒ…æ‹¬ç§æœ‰ä»“åº“çš„ç»Ÿè®¡

                  # ä»¥ä¸‹æ˜¯è‡ªå®šä¹‰çš„é…ç½®é€‰é¡¹
                  user: xiaohan2004  # è®¾ç½®è¦ç»Ÿè®¡çš„ GitHub ç”¨æˆ·å
                  template: classic  # ä½¿ç”¨ classic æ¨¡æ¿æ ·å¼
                  base: header, activity, community, repositories, metadata  # æŒ‡å®šç”Ÿæˆçš„åŸºæœ¬éƒ¨åˆ†
                  base_hireable: yes  # æ˜¾ç¤ºæ˜¯å¦å¼€æ”¾æ‹›è˜çš„çŠ¶æ€
                  config_octicon: yes  # å¯ç”¨ Octicon å›¾æ ‡
                  config_timezone: Asia/Shanghai  # è®¾ç½®æ—¶åŒºä¸ºä¸Šæµ·æ—¶é—´ã€

                  # plugin_people: yes  # å¯ç”¨ç”¨æˆ·ç›¸å…³çš„æ’ä»¶ï¼Œä¾‹å¦‚ç»Ÿè®¡ç”¨æˆ·çš„å…³æ³¨è€…å’Œè¢«å…³æ³¨è€…
                  # plugin_people_limit: 24  # è®¾ç½® plugin_people æ’ä»¶æ˜¾ç¤ºçš„ç”¨æˆ·é™åˆ¶æ•°é‡ä¸º 24
                  # plugin_people_size: 28  # è®¾ç½®ç”¨æˆ·å¤´åƒæ˜¾ç¤ºçš„å¤§å°ä¸º 28
                  # plugin_people_types: followers, following  # ç»Ÿè®¡ç”¨æˆ·çš„å…³æ³¨è€…å’Œè¢«å…³æ³¨è€…

                  # æ’ä»¶ç›¸å…³é…ç½®
                  plugin_achievements: yes  # å¯ç”¨æˆå°±æ’ä»¶
                  plugin_achievements_display: compact  # è®¾ç½®æˆå°±æ’ä»¶ä¸ºç´§å‡‘æ˜¾ç¤º
                  plugin_achievements_secrets: yes  # æ˜¾ç¤ºæˆå°±çš„ç§˜å¯†æˆå°±
                  plugin_achievements_threshold: A  # è®¾å®šæ˜¾ç¤ºçš„æˆå°±é˜ˆå€¼ä¸º A
                  plugin_achievements_limit: 6  # è®¾ç½®æ˜¾ç¤ºæœ€å¤š 6 ä¸ªæˆå°±

                  # plugin_calendar: yes  # å¯ç”¨æ—¥å†æ’ä»¶ï¼Œç”¨äºæ˜¾ç¤ºè´¡çŒ®çš„æ—¥æœŸ
                  # plugin_calendar_limit: 2  # è®¾ç½®æ˜¾ç¤ºçš„æ—¥å†æ’ä»¶æ•°é‡é™åˆ¶ä¸º 2

                  # æ’ä»¶ï¼šå¹´åº¦å’Œæœˆåº¦ç»Ÿè®¡çš„æ—¥å†
                  plugin_isocalendar: yes  # å¯ç”¨ ISO æ—¥å†æ’ä»¶
                  plugin_isocalendar_duration: half-year  # è®¾ç½® ISO æ—¥å†æ˜¾ç¤ºä¸ºåŠå¹´

                  # plugin_introduction: yes  # å¯ç”¨è‡ªæˆ‘ä»‹ç»æ’ä»¶ï¼Œç”¨äºå±•ç¤ºç”¨æˆ·çš„è‡ªæˆ‘ä»‹ç»
                  # plugin_introduction_title: yes  # æ˜¾ç¤ºè‡ªæˆ‘ä»‹ç»æ’ä»¶çš„æ ‡é¢˜

                  # æ’ä»¶ï¼šç¼–ç¨‹è¯­è¨€ç»Ÿè®¡
                  plugin_languages: yes  # å¯ç”¨è¯­è¨€ç»Ÿè®¡æ’ä»¶
                  plugin_languages_analysis_timeout: 15  # åˆ†æè¶…æ—¶æ—¶é—´è®¾ç½®ä¸º 15 ç§’
                  plugin_languages_analysis_timeout_repositories: 7.5  # ä»“åº“åˆ†æè¶…æ—¶ä¸º 7.5 ç§’
                  plugin_languages_categories: markup, programming  # ç»Ÿè®¡æ ‡è®°è¯­è¨€å’Œç¼–ç¨‹è¯­è¨€
                  plugin_languages_colors: github  # ä½¿ç”¨ GitHub çš„è¯­è¨€é¢œè‰²
                  plugin_languages_ignored: Mathematica, Jupyter Notebook, Starlark  # å¿½ç•¥æŸäº›è¯­è¨€
                  plugin_languages_limit: 8  # æ˜¾ç¤ºæœ€å¤š 8 ç§è¯­è¨€
                  plugin_languages_recent_categories: markup, programming  # ä»…ç»Ÿè®¡æœ€è¿‘çš„æ ‡è®°è¯­è¨€å’Œç¼–ç¨‹è¯­è¨€
                  plugin_languages_recent_days: 14  # ç»Ÿè®¡æœ€è¿‘ 14 å¤©çš„è¯­è¨€ä½¿ç”¨
                  plugin_languages_recent_load: 300  # åŠ è½½ 300 æ¬¡æœ€è¿‘çš„è¯­è¨€ä½¿ç”¨
                  plugin_languages_sections: most-used  # æ˜¾ç¤ºæœ€å¸¸ç”¨çš„è¯­è¨€
                  plugin_languages_threshold: 0%  # ç»Ÿè®¡çš„è¯­è¨€æ¯”ä¾‹ä¸º 0% åŠä»¥ä¸Šçš„è¯­è¨€

                  # æ’ä»¶ï¼šä»£ç è¡Œæ•°ç»Ÿè®¡
                  plugin_lines: yes  # å¯ç”¨ä»£ç è¡Œæ•°ç»Ÿè®¡æ’ä»¶
                  plugin_lines_history_limit: 1  # ä»…æ˜¾ç¤º 1 æ¬¡å†å²è®°å½•
                  plugin_lines_repositories_limit: 4  # æ˜¾ç¤ºæœ€å¤š 4 ä¸ªä»“åº“çš„è¡Œæ•°ç»Ÿè®¡
                  plugin_lines_sections: base  # æ˜¾ç¤ºåŸºç¡€çš„ä»£ç è¡Œæ•°ç»Ÿè®¡éƒ¨åˆ†
